{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/project/crio_stage_2_b/frontend-meme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ubuntu/project/crio_stage_2_b/frontend-meme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ubuntu/project/crio_stage_2_b/frontend-meme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Loading from'./Loading';import Memes from'./Memes';import PostFrom from'./PostForm';//const url = 'http://localhost:8000/memes/' \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url='http://ec2-3-7-45-215.ap-south-1.compute.amazonaws.com:8000/memes/';function AllMemes(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),memes=_useState4[0],setMemes=_useState4[1];var fetchMemes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_memes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:_memes=_context.sent;setLoading(false);setMemes(_memes);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setLoading(false);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function fetchMemes(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchMemes();},[]);if(loading){return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Loading,{})});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(PostFrom,{}),/*#__PURE__*/_jsx(Memes,{memes:memes})]});}export default AllMemes;","map":{"version":3,"sources":["/home/ubuntu/project/crio_stage_2_b/frontend-meme/src/setup/AllMemes.js"],"names":["React","useState","useEffect","Loading","Memes","PostFrom","url","AllMemes","loading","setLoading","memes","setMemes","fetchMemes","fetch","response","json","console","log"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA;wFACA,GAAMC,CAAAA,GAAG,CAAG,oEAAZ,CACA,QAASC,CAAAA,QAAT,EAAoB,eACWN,QAAQ,CAAC,IAAD,CADnB,wCACXO,OADW,eACHC,UADG,8BAEOR,QAAQ,CAAC,EAAD,CAFf,yCAEXS,KAFW,eAELC,QAFK,eAIlB,GAAMC,CAAAA,UAAU,0FAAG,uJACjBH,UAAU,CAAC,IAAD,CAAV,CADiB,sCAGQI,CAAAA,KAAK,CAACP,GAAD,CAHb,QAGTQ,QAHS,qCAIKA,CAAAA,QAAQ,CAACC,IAAT,EAJL,QAITL,MAJS,eAKfD,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAACD,MAAD,CAAR,CANe,iFAQfD,UAAU,CAAC,KAAD,CAAV,CACAO,OAAO,CAACC,GAAR,cATe,qEAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAaAV,SAAS,CAAC,UAAM,CACdU,UAAU,GACX,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAGJ,OAAH,CACA,CACE,mBACA,mCACE,KAAC,OAAD,IADF,EADA,CAKD,CACD,mBACA,qCACE,KAAC,QAAD,IADF,cAEE,KAAC,KAAD,EAAO,KAAK,CAAEE,KAAd,EAFF,GADA,CAMD,CAED,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Loading from './Loading';\nimport Memes from './Memes';\nimport PostFrom from './PostForm';\n\n//const url = 'http://localhost:8000/memes/' \nconst url = 'http://ec2-3-7-45-215.ap-south-1.compute.amazonaws.com:8000/memes/'\nfunction AllMemes() {\n  const [loading,setLoading] = useState(true);\n  const [memes,setMemes] = useState([]);\n\n  const fetchMemes = async () => {\n    setLoading(true);\n    try{\n      const response = await fetch(url);\n      const memes = await response.json();\n      setLoading(false);\n      setMemes(memes);\n    } catch (error){\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMemes();\n  },[]);\n\n  if(loading)\n  {\n    return (\n    <main>\n      <Loading />\n    </main>\n    );\n  }\n  return (\n  <main>\n    <PostFrom />\n    <Memes memes={memes} />\n  </main>)\n;\n}\n\nexport default AllMemes"]},"metadata":{},"sourceType":"module"}